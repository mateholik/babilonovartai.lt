$(document).ready(function(){function a(t,e,a){this.init(t,e,a)}function t(){$(".player__author").text($(".active-song").attr("data-author")),$(".player__song").text($(".active-song").attr("data-song"))}"main"==page&&(objectFitVideos(),a.prototype={init:function(t,e,a){this.alive=!0,this.radius=a||10,this.wander=.15,this.theta=random(TWO_PI),this.drag=.92,this.color="#fff",this.x=t||0,this.y=e||0,this.vx=0,this.vy=0},move:function(){this.x+=this.vx,this.y+=this.vy,this.vx*=this.drag,this.vy*=this.drag,this.theta+=random(-.5,.5)*this.wander,this.vx+=.1*sin(this.theta),this.vy+=.1*cos(this.theta),this.radius*=.96,this.alive=.5<this.radius},draw:function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,TWO_PI),t.fillStyle=this.color,t.fill()}},i=["#69D2E7","#A7DBD8","#E0E4CC","#F38630","#FA6900","#FF4E50","#F9D423"],n=[],s=[],(o=Sketch.create({container:document.getElementById("forSketch")})).setup=function(){for(var t,e,a=0;a<20;a++)t=.5*o.width+random(-100,100),e=.5*o.height+random(-100,100),o.spawn(t,e)},o.spawn=function(t,e){280<=n.length&&s.push(n.shift()),(particle=s.length?s.pop():new a).init(t,e,random(5,40)),particle.wander=random(.5,2),particle.color=random(i),particle.drag=random(.9,.99),theta=random(TWO_PI),force=random(2,8),particle.vx=sin(theta)*force,particle.vy=cos(theta)*force,n.push(particle)},o.update=function(){for(var t,e=n.length-1;0<=e;e--)(t=n[e]).alive?t.move():s.push(n.splice(e,1)[0])},o.draw=function(){o.globalCompositeOperation="lighter";for(var t=n.length-1;0<=t;t--)n[t].draw(o)},o.mousemove=function(){for(var t,e,a,i=0,n=o.touches.length;i<n;i++)for(t=o.touches[i],e=random(1,4),a=0;a<e;a++)o.spawn(t.x,t.y)},(e=document.createElement("audio")).setAttribute("src",$(".active-song").attr("data-src")),(r=new TimelineMax).to(".player__albumImg",3,{rotation:"360deg",repeat:-1,ease:Power0.easeNone},"-=0.2"),r.pause(),$(".player__play").click(function(){$(".player").hasClass("play")?($(".player").removeClass("play"),e.pause(),TweenMax.to(".player__albumImg",.2,{scale:1,ease:Power0.easeNone}),r.pause()):($(".player").addClass("play"),e.play(),TweenMax.to(".player__albumImg",.2,{scale:1.1,ease:Power0.easeNone}),r.resume())}),l=document.getElementById("playhead"),e.addEventListener("timeupdate",function(){var t=this.duration,e=this.currentTime;l.style.width=4*(e/t*100)+"px"}),t(),$(".player__next").click(function(){$(".player .player__albumImg.active-song").is(":last-child")?($(".player__albumImg.active-song").removeClass("active-song"),$(".player .player__albumImg:first-child").addClass("active-song"),e.addEventListener("timeupdate",function(){var t=this.duration,e=this.currentTime;l.style.width=4*(e/t*100)+"px"})):($(".player__albumImg.active-song").removeClass("active-song").next().addClass("active-song"),e.addEventListener("timeupdate",function(){var t=this.duration,e=this.currentTime;l.style.width=e/t*100+"%"})),t(),e.setAttribute("src",$(".active-song").attr("data-src")),e.play()}),$(".player__prev").click(function(){$(".player .player__albumImg.active-song").is(":first-child")?($(".player__albumImg.active-song").removeClass("active-song"),$(".player .player__albumImg:last-child").addClass("active-song"),e.addEventListener("timeupdate",function(){var t=this.duration,e=this.currentTime;l.style.width=4*(e/t*100)+"px"})):($(".player__albumImg.active-song").removeClass("active-song").prev().addClass("active-song"),e.addEventListener("timeupdate",function(){var t=this.duration,e=this.currentTime;l.style.width=e/t*100+"px"})),t(),e.setAttribute("src",$(".active-song").attr("data-src")),e.play()})),$(".content-wrap__menu-btn").on("click",function(t){var e=$(".content-wrap__menu");t.stopPropagation(),e.is(":visible")?(e.fadeOut(0),$(this).css("left","0").html("<span>Meniu</span>")):($(this).html("<span>Close</span>"),e.css("z-index","20").fadeIn(0))}),$(window).width()<=691&&$("body").on("click",function(t){$(".content-wrap__menu").is(":visible")&&($(".content-wrap__menu").fadeOut(0),$(".content-wrap__menu-btn").css("left","0").html("<span>Meniu</span>"))});var i,n,s,o,e,r,l,c=["color1","color2","color3"];$(".menu-list li").hover(function(){c.sort(function(){return.5-Math.random()}),$(this).addClass(c[0])},function(){$(this).removeClass(c[0])}),$(window).scroll(function(){$(this).scrollTop()?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()}),$(".back-to-top").click(function(){$("html, body").animate({scrollTop:0},1e3)})});